(mod lib/std)

(mem m :min 100)

(struct Point2D
    (x i32)
    (y i32)
)

(export main :as main)
(fn main [] [i32] (
    {&p : (& Point2D) = (Stack/alloc (sizeof Point2D))}
    (defer (Stack/free (sizeof Point2D)))

    {(* &p) = (struct.new Point2D 2 3)}
    {y : u32 = {&p -> y}}
    (return y)
))
