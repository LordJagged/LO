#![new_syntax]

// exports vec api for testing

// TODO: this test should be fine with min_pages: 1
export memory { min_pages: 100 };

include "lib/std";

export existing fn Vec_new as "vec_new";
export existing fn Vec_swap as "vec_swap";
export existing fn Vec_push_all as "vec_push_all";

export fn vec_len(vec: &Vec) -> u32 {
    return vec->size;
};

export fn vec_push_u8(vec: &Vec, item: u8) {
    *(Vec_push(vec) as &u8) = item as u8;
};

export fn vec_get_u8(vec: &Vec, index: u32) -> u8 {
    return *(Vec_at(vec, index) as &u8);
};
