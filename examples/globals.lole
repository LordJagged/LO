(export main :as main)

(fn main [] [u32] (
    {_ : ptr}

    {_ = (alloc 45)}
    {_ = (alloc 24)}

    (return HEAP_INDEX)
))

(global mut HEAP_INDEX u32 0)
(fn alloc [(size u32)] [ptr] (
    {ref : ptr}
    {ref = HEAP_INDEX}
    {HEAP_INDEX = {HEAP_INDEX + size}}
    (return ref)
))
