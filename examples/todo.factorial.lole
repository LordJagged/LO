; This file is not supposed to be successfully compiled

(:: factorial (i32) (i32))
(export factorial :as factorial)

(fn factorial (x) (
    (if (i32.lt_s x (i32 2))
        (return x)
    )

    (i32.mul x (factorial (i32.sub x (i32 1))))
))

; TODO: add number type inference
(fn factorial (x) (
    (if (< x 2) (return x))
    (* x (factorial (- x 2)))
))

; TODO: add infix expressions
(fn factorial (x) (
    (if { x < 2 } (return x))
    { x * (factorial { x - 2 }) }
))
