; This file is not supposed to be successfully compiled

(export factorial :as factorial)


(fn factorial [(x i32)] [i32] (
    (if (i32.lt_s x 2)
        (return x)
    )

    (i32.mul x (factorial (i32.sub x 1)))
))

; TODO: add number type inference
(fn factorial [(x i32)] [i32] (
    (if (< x 2) (return x))
    (* x (factorial (- x 2)))
))

; TODO: add infix expressions
(fn factorial [(x i32)] [i32] (
    (if { x < 2 } (return x))
    { x * (factorial { x - 2 }) }
))

