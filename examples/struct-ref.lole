(mod lib/std)

(mem m :min 100)

(struct Point2D
    (x i32)
    (y i32)
)

(export main :as main)
(fn main [] [i32] (
    {&p : ptr}
    {&p = (Stack/alloc (sizeof Point2D))}
    {{Point2D @ &p} = (struct.new Point2D 2 3)}

    {p : Point2D}
    {p = {Point2D @ &p}}

    (Stack/free (sizeof Point2D))

    (return {p . y})
))
