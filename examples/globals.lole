(export main :as main)

(fn main [] [u32] (
    {_ : ptr}

    {_ = (alloc 45)}
    {_ = (alloc 24)}

    @heap_index
))

(global-mut @heap_index u32 0)
(fn alloc [(size u32)] [ptr] (
    {ref : ptr}
    {ref = @heap_index}
    {@heap_index = {@heap_index + size}}
    ref
))
