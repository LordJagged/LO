struct ui {};
struct ui::Button { id: u32 };

#[import("ui")]
extern fn ui::alert(text: str);

#[import("ui", "Button_new")]
extern fn ui::Button::new(label: str) -> Self;

#[import("ui")]
extern fn ui::Button::on_click(self, on_click: func_ref) -> Self;

#[import("ui")]
extern fn ui::Button::display(self) -> Self;

#[export("main")]
fn main() {
    ui::Button::new("Press me")
        .on_click(|| ui::alert("Hello there"))
        .display();
};
